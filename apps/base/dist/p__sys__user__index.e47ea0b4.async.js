"use strict";(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[343],{5842:function(le,j,e){var i=e(86378),t=e.n(i),T=e(58357),n=e.n(T),I=e(71977),f=e.n(I),b=e(28488),s=e.n(b),d=e(50959),l=e(15663),u=e(26161),c=e(53801),m=e(11527),k=["propCode","onChange"],X=function(E){var w=E.propCode,N=E.onChange,W=s()(E,k),$=(0,c.Z)(l.fQ,{manual:!0,cacheKey:"STATIC_".concat(w),staleTime:3e5}),x=$.runAsync,Q=function(_){N&&N(_.target.value)};return(0,m.jsx)(u.Z,t()(t()({request:f()(n()().mark(function L(){var _;return n()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,x({query:{propCode:w,state:1},pageNo:1,pageSize:999});case 2:return _=r.sent,r.abrupt("return",_.data.result.map(function(se){return{label:se.valueName,value:+se.valueCode}}));case 4:case"end":return r.stop()}},L)}))},W),{},{radioProps:t()({onChange:Q},W==null?void 0:W.radioProps)}))};j.Z=X},26253:function(le,j,e){var i=e(86378),t=e.n(i),T=e(30577),n=e.n(T),I=e(28488),f=e.n(I),b=e(12632),s=e(50959),d=e(53690),l=e(11527),u=["auth","children"],c=function(k){var X=k.auth,re=k.children,E=f()(k,u),w=(0,d.useModel)("@@initialState"),N=w.initialState,W=N,$=W.currentUser,x=(0,s.useState)(function(){var _;return X!==void 0?!!($!=null&&$.authButton&&(_=$.authButton)!==null&&_!==void 0&&_.has(X)):!0}),Q=n()(x,1),L=Q[0];return(0,l.jsx)(l.Fragment,{children:L?(0,l.jsx)(b.ZP,t()(t()({},E),{},{children:re})):(0,l.jsx)(l.Fragment,{})})};j.Z=c},4643:function(le,j,e){var i=e(58357),t=e.n(i),T=e(86378),n=e.n(T),I=e(71977),f=e.n(I),b=e(30577),s=e.n(b),d=e(28488),l=e.n(d),u=e(40039),c=e(50959),m=e(53690),k=e(93789),X=e(13655),re=e(5061),E=e(11527),w=["auth","table"],N=k.Z.Text,W=function(x){var Q,L=x.auth,_=x.table,q=l()(x,w),r=(0,m.useModel)("@@initialState"),se=r.initialState,ge=se,H=ge.currentUser,ce=(0,c.useState)(function(){var v;return L!==void 0?!!(H!=null&&H.authButton&&(v=H.authButton)!==null&&v!==void 0&&v.has(L)):!0}),_e=s()(ce,1),Ce=_e[0];return(0,E.jsx)(E.Fragment,{children:Ce?(0,E.jsx)(u.Z,n()(n()({tableLayout:"auto",size:"middle",rowKey:(_==null?void 0:_.rowKey)||q.rowKey,request:function(){var v=f()(t()().mark(function me(B){var ie,de,Ae,ve,Pe,he,De,ye,ne;return t()().wrap(function(J){for(;;)switch(J.prev=J.next){case 0:return ie=B.pageSize,de=B.current,Ae=B.formValues,ve=n()(n()({},Ae),_==null?void 0:_.requestParam),_!=null&&_.onSearchBefore&&(ve=_.onSearchBefore(ve)),J.next=5,_==null?void 0:_.request({pageNo:de,pageSize:ie,query:ve});case 5:if(Pe=J.sent,he=Pe.success,De=Pe.data,ye=De.result,ne=De.totalNum,!(_!=null&&_.onSearchAfter)){J.next=12;break}return J.abrupt("return",_==null?void 0:_.onSearchAfter({total:ne,success:he,data:ye}));case 12:return J.abrupt("return",{total:ne,success:he,data:ye});case 13:case"end":return J.stop()}},me)}));return function(me){return v.apply(this,arguments)}}()},q),{},{columns:(Q=q.columns)===null||Q===void 0?void 0:Q.map(function(v){return v.ellipsis?n()(n()({},v),{},{render:function(B,ie,de){return v.render&&v.render(B,ie,de),(0,E.jsx)(N,{style:{width:v.width||200},ellipsis:{tooltip:{title:B}},children:v!=null&&v.render?v.render(B,ie,de):B})}}):v})})):(0,E.jsx)(X.ZP,{renderEmpty:function(){return(0,E.jsxs)("div",{style:{textAlign:"center"},children:[(0,E.jsx)(re.Z,{style:{fontSize:26,margin:"16px 0"}}),(0,E.jsx)("p",{children:"\u6682\u65E0\u6743\u9650"})]})},children:(0,E.jsx)(u.Z,n()(n()({tableLayout:"auto",size:"middle"},q),{},{formItems:[],request:f()(t()().mark(function v(){return t()().wrap(function(B){for(;;)switch(B.prev=B.next){case 0:return B.abrupt("return",{total:0,success:!1,data:[]});case 1:case"end":return B.stop()}},v)})),toolbarActionConfig:{showReload:!1,showColumnSetting:!1,showDensity:!1,showFullscreen:!1}}))})})};j.Z=W},65571:function(le,j,e){var i=e(86378),t=e.n(i),T=e(28488),n=e.n(T),I=e(50959),f=e(79804),b=e(11527),s=["children"],d=function(u){var c=u.children,m=n()(u,s);return(0,b.jsx)(f.Z,t()(t()({style:{height:"calc(100vh - 160px)",overflowY:"auto"}},m),{},{children:c}))};j.Z=d},24898:function(le,j,e){var i=e(86378),t=e.n(i),T=e(30577),n=e.n(T),I=e(53690),f=e(84560),b=e(56684),s=e(32499),d=e(50959),l=e(11527),u=function(m){var k=m.popconfirmProps,X=m.valueName,re=m.SwitchProps,E=m.checked,w=m.loading,N=m.disabled,W=N===void 0?!1:N,$=m.checkedTitle,x=$===void 0?"\u542F\u7528":$,Q=m.unCheckedTitle,L=Q===void 0?"\u7981\u7528":Q,_=m.onConfirm,q=m.editAuth,r=(0,I.useModel)("@@initialState"),se=r.initialState,ge=se,H=ge.currentUser,ce=(0,d.useState)(function(){var v;return q!==void 0?!!(H!=null&&H.authButton&&(v=H.authButton)!==null&&v!==void 0&&v.has(q)):!0}),_e=n()(ce,1),Ce=_e[0];return(0,l.jsx)("div",{children:Ce?W?(0,l.jsx)(f.Z,t()(t()({unCheckedChildren:L,checkedChildren:x,disabled:W,loading:w},re),{},{checked:E})):(0,l.jsx)(b.Z,t()(t()({placement:"topRight",okText:"\u786E\u5B9A",cancelText:"\u53D6\u6D88",title:(0,l.jsxs)(l.Fragment,{children:["\u60A8\u786E\u5B9A",E?(0,l.jsx)(s.Z,{color:"red",style:{marginLeft:8},children:L}):(0,l.jsx)(s.Z,{color:"success",style:{marginLeft:8},children:x}),(0,l.jsx)(s.Z,{color:"default",children:X}),"\u5417\uFF1F"]})},k),{},{onConfirm:_,children:(0,l.jsx)(f.Z,t()(t()({unCheckedChildren:L,checkedChildren:x,disabled:W,loading:w},re),{},{checked:E}))})):E?(0,l.jsx)(s.Z,{color:"success",children:x}):(0,l.jsx)(s.Z,{color:"error",children:L})})};j.Z=u},275:function(le,j,e){e.d(j,{$E:function(){return n},R2:function(){return I},Sj:function(){return t},T4:function(){return d},dZ:function(){return T},gh:function(){return f}});var i=e(19708),t=function(u){return(0,i.v_)("/service-sysmgr/auth/RoleController/pageRole",u)},T=function(u){return u.roleId?(0,i.v_)("/service-sysmgr/auth/RoleController/updateRole",u):(0,i.v_)("/service-sysmgr/auth/RoleController/createRole",u)},n=function(u){return(0,i.U2)("/service-sysmgr/auth/AuthController/getCheckedRoleTreeNode",u)},I=function(u){return(0,i.v_)("/service-sysmgr/auth/AuthController/doRoleRelaMenu",u)},f=function(u){return(0,i.v_)("/service-sysmgr/auth/AuthController/doRoleRelaButton",u)},b=function(u){return post("/service-sysmgr/auth/AuthController/doRoleRelaUrlGroup",u)},s=function(u){return get("/service-sysmgr/auth/AuthController/getCheckedRoleUrlGroup",u)},d=function(u){return(0,i.U2)("/service-sysmgr/auth/AuthController/getRoleBtnTreeNode",u)}},85844:function(le,j,e){e.r(j),e.d(j,{default:function(){return Xe}});var i=e(58357),t=e.n(i),T=e(86378),n=e.n(T),I=e(71977),f=e.n(I),b=e(30577),s=e.n(b),d=e(75940),l=e(32499),u=e(80650),c=e(50959),m=e(80361),k=e(98178),X=e(88536),re=e(35396),E=e(78177),w=e(49499),N=e(26253),W=e(4643),$=e(24898),x=e(53801),Q=e(28488),L=e.n(Q),_=e(5842),q=e(275),r=e(11527),se=function(C){var h=(0,c.useRef)(),F=[{title:"\u89D2\u8272\u540D\u79F0",dataIndex:"roleName",align:"center"},{title:"\u89D2\u8272\u63CF\u8FF0",dataIndex:"roleDesc",align:"center"},{title:"\u521B\u5EFA\u65F6\u95F4",dataIndex:"createTime",align:"center"}],y={selectedRowKeys:C.value,preserveSelectedRowKeys:!0,onChange:function(A,G){C.onChange({label:G.map(function(z){return z.roleName}),value:A})}};return(0,r.jsx)(W.Z,{size:"small",rowKey:"roleId",rowSelection:y,columns:F,tableRef:h,formItems:[(0,r.jsx)(m.Z,{name:"roleName",label:"\u89D2\u8272\u540D\u79F0"},"0")],request:function(){var Y=f()(t()().mark(function A(G,z){var R,M,P,S,O,K,Z;return t()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:if(z!=="onReload"){o.next=3;break}return M=((R=h.current)===null||R===void 0?void 0:R.tableData)||[],o.abrupt("return",{total:M.length,success:!0,data:M});case 3:return o.next=5,(0,q.Sj)({pageNo:1,pageSize:999,query:{state:1}});case 5:for(P=o.sent,S=P.data,O=P.success,K=+S.totalNum,Z=0;Z<S.result.length;Z++)S.result[Z].roleId===9999&&(K=+S.totalNum-1,delete S.result[Z]);return o.abrupt("return",{total:K,success:O,data:S.result});case 11:case"end":return o.stop()}},A)}));return function(A,G){return Y.apply(this,arguments)}}(),showToolbar:!1,queryFormProps:{isSpace:!0,size:"small",submitter:{showReset:!1}},pagination:{defaultPageSize:6,showSizeChanger:!1,showQuickJumper:!1}})},ge=se,H=e(24047),ce=e.n(H),_e=e(15663),Ce=e(94521),v=e(53690),me=e(93789),B=e(6445),ie=e(86656),de=e(12632),Ae=e(17592),ve=e(8899),Pe=e(84875),he=e.n(Pe),De=e(88895),ye=e(44147),ne={orgTree:"orgTree___sMPsk",orgTreeActive:"orgTreeActive___IlKJt",treeTable:"treeTable___p2eAb",tableDom:"tableDom___sUmLt",tableActive:"tableActive___CYAQw"},Te=me.Z.Text,J=function pe(C,h,F){return C.map(function(y){return y.key===h?n()(n()({},y),{},{children:F}):y.children?n()(n()({},y),{},{children:pe(y.children,h,F)}):y})},Be=function(C){var h=C.proRef,F=C.onChange,y=(0,c.useState)(!1),Y=s()(y,2),A=Y[0],G=Y[1],z=(0,c.useState)(!1),R=s()(z,2),M=R[0],P=R[1],S=(0,c.useState)([]),O=s()(S,2),K=O[0],Z=O[1],V=(0,c.useState)([]),o=s()(V,2),a=o[0],U=o[1],fe=(0,c.useState)([]),te=s()(fe,2),be=te[0],Ee=te[1],Oe=(0,c.useRef)(),ue=(0,De.Z)(h,{onShow:function(){return G(!A)},onHide:function(){var p;P(!1),Z([]),U([]),Ee([]),(p=Oe.current)===null||p===void 0||p.onReset()}}),je=ue.parentData,qe=(0,c.useState)(),Ie=s()(qe,2),We=Ie[0],Me=Ie[1],er=function(p,g){U(p),Me({label:g[0].leagueName,value:g[0].leagueCode})};(0,c.useEffect)(function(){je&&je.value&&U([je.value])},[je]);var xe=(0,v.useRequest)(_e.No,{manual:!0,defaultParams:[{leagueCode:""}],formatResult:function(p){var g=p.success,ee=p.data;return g?(ee.forEach(function(oe){oe.title=oe.leagueName,oe.key=oe.leagueCode,oe.isLeaf=oe.leaf}),ee):[]}}),rr=xe.loading,Se=xe.run,nr=function(p,g){var ee=g.node;U([ee.leagueCode]),Me({value:ee.leagueCode,label:ee.leagueName})},ar=function(p){var g=p.key,ee=p.children;return new Promise(function(oe){ee&&oe(),Se({leagueCode:g}).then(function(tr){Z(function(or){var lr=J(or,g,tr);return lr}),oe()})})};return(0,c.useEffect)(function(){A&&K.length===0&&Se({leagueCode:""}).then(function(D){D.length<=1?(Z(D),Se({leagueCode:D[0].leagueCode}).then(function(p){Ee([D[0].leagueCode]),Z(function(){return J(D,D[0].leagueCode,p)})})):Z(D)})},[A]),(0,r.jsx)(ye.Z,{title:"\u7EC4\u7EC7\u9009\u62E9",open:A,onOpenChange:G,isEnterSubmit:!1,onFinish:f()(t()().mark(function D(){return t()().wrap(function(g){for(;;)switch(g.prev=g.next){case 0:if(We){g.next=3;break}return B.ZP.error("\u8BF7\u9009\u62E9\u7EC4\u7EC7\uFF01"),g.abrupt("return",!1);case 3:return F(We),g.abrupt("return",!0);case 5:case"end":return g.stop()}},D)})),drawerProps:{maskClosable:!0},children:(0,r.jsx)(W.Z,{rowKey:"leagueCode",size:"small",tableRef:Oe,columns:[{title:"\u7EC4\u7EC7\u540D\u79F0",dataIndex:"leagueName",ellipsis:!0},{title:"\u7EC4\u7EC7\u6811",dataIndex:"parentLeague",render:function(){var p=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];if(p){var g=p.map(function(ee){return ee.leagueName}).join().replaceAll(","," > ");return(0,r.jsx)(Te,{style:{width:220},ellipsis:{tooltip:{title:g}},children:g})}return""}}],rowSelection:{type:"radio",selectedRowKeys:a,onChange:er},onRow:function(p){return{style:{cursor:"pointer"},onClick:function(){U([p.leagueCode]),Me({label:p.leagueName,value:p.leagueCode})}}},formItems:[(0,r.jsx)(m.Z,{name:"leagueName",label:"\u7EC4\u7EC7\u540D\u79F0"},"0")],showToolbar:!1,formCardProps:{size:"small"},queryFormProps:{isSpace:!0,isEnterSubmit:!1,submitter:{onReset:function(){P(!1)},onSubmit:function(){P(!0)}}},pagination:{defaultPageSize:12,showSizeChanger:!1,showQuickJumper:!1},table:{request:_e.Tx},tableRender:function(p){return(0,r.jsxs)("div",{children:[(0,r.jsx)(r.Fragment,{children:p.searchFormDom}),(0,r.jsx)(u.Z,{className:ne.treeTable,children:(0,r.jsx)(ie.Z,{title:"\u5207\u6362\u5230".concat(M?"\u6811\u7EA7":"\u8868\u683C"),children:(0,r.jsx)(de.ZP,{size:"small",onClick:function(){return P(!M)},children:"\u5207\u6362"})})}),(0,r.jsxs)("div",{style:{position:"relative",overflow:"hidden"},children:[(0,r.jsx)("div",{className:he()(ne.orgTree,ce()({},ne.orgTreeActive,M)),children:(0,r.jsx)(Ae.Z,{spinning:rr,children:(0,r.jsx)(ve.Z,{style:{paddingLeft:20},showLine:!0,checkStrictly:!0,expandedKeys:be,onExpand:Ee,switcherIcon:(0,r.jsx)(Ce.Z,{}),loadData:ar,treeData:K,onSelect:nr,selectedKeys:a})})}),(0,r.jsx)("div",{className:he()(ne.tableDom,ce()({},ne.tableActive,M)),children:p.tableDom})]})]})}})})},Ue=Be,Le=e(30020),ae=e(54098),Re=e(42383),Ke=e(62668),Ze=e(50826),we=e(20876),Fe=e(43735),ze=e(52163),Ne=["data","onChange","open","onOpenChange"],$e=function(C){var h=C.data,F=C.onChange,y=C.open,Y=C.onOpenChange,A=L()(C,Ne),G=Fe.Z.useForm(),z=s()(G,1),R=z[0],M=(0,c.useState)([]),P=s()(M,2),S=P[0],O=P[1],K=(0,c.useRef)(),Z=(0,x.Z)(w.gk,{manual:!0,onSuccess:function(a){a.success&&(B.ZP.success("\u64CD\u4F5C\u6210\u529F\uFF01"),F())}}),V=Z.runAsync;return(0,c.useEffect)(function(){if(y&&h)if(h.roles){var o=[],a=[];h.roles.forEach(function(U){a.push(U.roleId),o.push(U.roleName)}),O([{label:h.orgName,value:h.orgId}]),R.setFieldsValue(n()(n()({},h),{},{role:{label:o,value:a},orgId:h.orgId}))}else R.setFieldsValue(n()({},h))},[y]),(0,r.jsxs)(ze.Z,n()(n()({open:y,onOpenChange:Y,form:R,width:960,isDraggable:!0,labelCol:{span:6},wrapperCol:{span:14},title:h?"\u4FEE\u6539\u4FE1\u606F":"\u65B0\u5EFA\u7528\u6237",onFinish:function(){var o=f()(t()().mark(function a(U){var fe,te,be,Ee;return t()().wrap(function(ue){for(;;)switch(ue.prev=ue.next){case 0:return te=((fe=U.role)===null||fe===void 0?void 0:fe.value)||[],ue.next=3,V(n()(n()(n()({},h),U),{},{roleIds:te}));case 3:return be=ue.sent,Ee=be.success,ue.abrupt("return",Ee);case 6:case"end":return ue.stop()}},a)}));return function(a){return o.apply(this,arguments)}}(),modalProps:{afterClose:function(){var a;R.resetFields(),(a=K.current)===null||a===void 0||a.onHide()},wrapClassName:"ia_modal_render"},initialValues:{state:1}},A),{},{children:[(0,r.jsxs)(Le.Z,{children:[(0,r.jsx)(ae.Z,{span:12,children:(0,r.jsx)(m.Z,{name:"workerName",required:!0,label:"\u7528\u6237\u540D"})}),(0,r.jsx)(ae.Z,{span:12,children:(0,r.jsx)(m.Z,{name:"loginCode",required:!0,label:"\u8D26\u53F7"})}),(0,r.jsx)(ae.Z,{span:12,children:(0,r.jsx)(m.Z,{name:"mobile",required:!0,type:"phone",label:"\u624B\u673A\u53F7"})}),(0,r.jsx)(ae.Z,{span:12,children:(0,r.jsx)(Re.Z,{name:"orgId",required:!0,label:"\u7528\u6237\u7EC4\u7EC7",options:S,selectProps:{open:!1,showArrow:!1,onClick:function(){var a,U=R.getFieldValue("orgId");(a=K.current)===null||a===void 0||a.onShow({value:U})},onClear:function(){O([])}}},"4")}),(0,r.jsx)(ae.Z,{span:12,children:(0,r.jsx)(m.Z,{label:"\u90AE\u7BB1",name:"email",type:"email",required:!0})}),(0,r.jsx)(ae.Z,{span:12,children:(0,r.jsx)(Ke.Z,{label:"\u51FA\u751F\u65E5\u671F",name:"birthday",disabledDateAfter:0})}),(0,r.jsx)(ae.Z,{span:12,children:(0,r.jsx)(Re.Z,{label:"\u6027\u522B",name:"sex",required:!0,options:[{label:"\u7537",value:1},{label:"\u5973",value:0}]})}),(0,r.jsx)(ae.Z,{span:12,children:(0,r.jsx)(_.Z,{label:"\u72B6\u6001",required:!0,name:"state",propCode:"status"})}),(0,r.jsx)(ae.Z,{span:24,children:(0,r.jsx)(Ze.Z,{name:"role",labelCol:{span:3},wrapperCol:{span:19},label:"\u6240\u5C5E\u89D2\u8272",placeholder:"\u8BF7\u9009\u62E9\u6240\u5C5E\u89D2\u8272\uFF0C\u53EF\u591A\u9009",children:(0,r.jsx)(we.Z,{allowClear:!0,mode:"tag",placement:"bottomLeft",style:{width:"100%"},tagRender:function(a){return(0,r.jsx)(l.Z,{children:a.value})},selectProps:{filterOption:!1,onInputKeyDown:function(a){return a.stopPropagation()}},children:(0,r.jsx)(ge,{})})})})]}),(0,r.jsx)(Ue,{proRef:K,onChange:function(a){O([a]),R.setFieldValue("orgId",a.value),R.validateFields(["orgId"])}})]}))},Qe=$e,Ge=["propCode","onChange","allowClear"],Ve=function(C){var h=C.propCode,F=C.onChange,y=C.allowClear,Y=y===void 0?!0:y,A=L()(C,Ge),G=(0,x.Z)(_e.fQ,{manual:!0,cacheKey:"STATIC_".concat(h),staleTime:3e5}),z=G.runAsync,R=function(P){F&&F(P)};return(0,r.jsx)(Re.Z,n()(n()({request:f()(t()().mark(function M(){var P;return t()().wrap(function(O){for(;;)switch(O.prev=O.next){case 0:return O.next=2,z({query:{propCode:h,state:1},pageNo:1,pageSize:999});case 2:return P=O.sent,O.abrupt("return",P.data.result.map(function(K){return{label:K.valueName,value:+K.valueCode}}));case 4:case"end":return O.stop()}},M)}))},A),{},{selectProps:n()({onChange:R,showSearch:!0,filterOption:function(P,S){return S.label.indexOf(P)>=0},allowClear:Y},A==null?void 0:A.selectProps)}))},ke=Ve,He=e(65571),Je=[(0,r.jsx)(m.Z,{name:"workerName",label:"\u7528\u6237\u540D"},"1"),(0,r.jsx)(m.Z,{name:"mobile",label:"\u624B\u673A\u53F7\u7801"},"2"),(0,r.jsx)(ke,{name:"state",label:"\u72B6\u6001",propCode:"status"},"3")],Ye=function(){var C=(0,c.useRef)(),h=(0,c.useRef)(),F=(0,k.dQ)(),y=F.token,Y=(0,c.useState)(!1),A=s()(Y,2),G=A[0],z=A[1],R=(0,c.useState)(),M=s()(R,2),P=M[0],S=M[1],O=(0,x.Z)(w.gk,{manual:!0,onSuccess:function(o){if(o.success){var a;(a=h.current)===null||a===void 0||a.onSearch()}}}),K=O.runAsync,Z=[{title:"\u5934\u50CF",dataIndex:"workerName",align:"center",render:function(o){return(0,r.jsx)(d.C,{style:{backgroundColor:y.colorPrimary},children:o[0]})}},{title:"\u7528\u6237\u540D",dataIndex:"workerName",align:"center"},{title:"\u6240\u5C5E\u7EC4\u7EC7",dataIndex:"orgName",align:"center"},{title:"\u624B\u673A\u53F7",dataIndex:"mobile",align:"center"},{title:"\u6765\u6E90",dataIndex:"source",align:"center",render:function(o,a){return o==="1"?(0,r.jsx)(l.Z,{color:"blue",children:a.sourceTrans}):(0,r.jsx)(l.Z,{color:"green",children:a.sourceTrans})}},{title:"\u5173\u8054\u89D2\u8272",dataIndex:"roles",align:"center",width:200,render:function(o){return o.map(function(a){return(0,r.jsx)(l.Z,{style:{marginBottom:2},children:a.roleName},a.roleId)})}},{title:"\u72B6\u6001",dataIndex:"state",key:"state",align:"center",render:function(o,a){return(0,r.jsx)($.Z,{checked:o===1,valueName:a.workerName,editAuth:"sys:user:update",onConfirm:f()(t()().mark(function U(){return t()().wrap(function(te){for(;;)switch(te.prev=te.next){case 0:K(n()(n()({},a),{},{roleIds:a.roles.map(function(be){return be.roleId}),state:o===1?0:1}));case 1:case"end":return te.stop()}},U)}))})}},{key:"actions",title:"\u64CD\u4F5C",align:"center",fixed:"right",width:150,render:function(o,a){return(0,r.jsx)(u.Z,{className:"action_bar",children:(0,r.jsx)(N.Z,{type:"link",auth:"sys:user:update",icon:(0,r.jsx)(re.Z,{}),onClick:function(){S(n()({},a)),z(!0)},children:"\u4FEE\u6539"})})}}];return(0,r.jsxs)(X._z,{children:[(0,r.jsx)(He.Z,{children:(0,r.jsx)(W.Z,{auth:"sys:user:list",rowKey:"loginId",scroll:{x:1200},toolbarLeft:(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(N.Z,{type:"primary",auth:"sys:user:create",onClick:function(){S(void 0),z(!0)},icon:(0,r.jsx)(E.Z,{}),children:"\u65B0\u589E"})}),size:"small",formItems:Je,tableRef:h,formRef:C,columns:Z,table:{request:w.KP}})}),(0,r.jsx)(Qe,{open:G,onOpenChange:z,data:P,onChange:function(){var o;(o=h.current)===null||o===void 0||o.onReload()}})]})},Xe=Ye},49499:function(le,j,e){e.d(j,{KP:function(){return T},XE:function(){return n},gk:function(){return I}});var i=e(19708),t=e(94085),T=function(b){return(0,i.v_)("/service-sysmgr/auth/WorkerController/pageWorker",b)},n=function(b){var s=b.newPwd,d=b.oldPwd,l={newPwd:(0,t.$G)((0,t.Wu)(s)),oldPwd:(0,t.$G)((0,t.Wu)(d))};return(0,i.v_)("/service-sysmgr/auth/WorkerController/modifyPwd",{},l)},I=function(b){return b.loginId?(0,i.v_)("/service-sysmgr/auth/WorkerController/updateWorker",b):(0,i.v_)("/service-sysmgr/auth/WorkerController/createWorker",b)}},15663:function(le,j,e){e.d(j,{No:function(){return b},Tx:function(){return f},fQ:function(){return I}});var i=e(19708),t=function(d){return post("/service-obs/auth/FileController/fileUpload",d)},T=function(d){return download("/service-obs/auth/FileController/download",{method:"GET",params:d})},n=function(d){return download("/service-obs/auth/ZipFileController/downloadZip",{method:"POST",data:d,fileName:d.fileName})},I=function(d){return(0,i.v_)("/service-sysmgr/auth/PropertyController/pageValue",d)},f=function(d){return(0,i.v_)("/service-league/LeagueController/auth/pageLeague",d)},b=function(d){return(0,i.U2)("/service-league/LeagueController/auth/getPublicOrgChildren",d)}}}]);
